<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Secret Puzzle | Nilabhra Chakraborty</title>

  <!-- Meta Tags -->
  <meta name="description" content="Secret Puzzle - A fun interactive experience on Nilabhra Chakraborty's portfolio." />
  <meta name="author" content="Nilabhra Chakraborty" />
  
  <!-- Bootstrap 5 CDN -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

  <!-- Custom Styles -->
  <link rel="stylesheet" href="style.css">
  
  <!-- Page Specific Styles -->
  <style>
    .interactive-hero {
      min-height: 60vh;
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      color: white;
    }
    
    .interactive-card {
      background: white;
      border-radius: 15px;
      padding: 30px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      transition: all 0.3s ease;
      border: 2px solid transparent;
    }
    
    .interactive-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 20px 40px rgba(0,0,0,0.15);
      border-color: #f5576c;
    }
    
    .interactive-title {
      font-weight: 700;
      color: #2c3e50;
      margin-bottom: 15px;
    }
    
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-10px); }
      75% { transform: translateX(10px); }
    }
  </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
  <div class="container">
    <a class="navbar-brand" href="index.html">Nilabhra Chakraborty</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="index.html#about">About</a></li>
        <li class="nav-item"><a class="nav-link" href="index.html#skills">Skills</a></li>
        <li class="nav-item"><a class="nav-link" href="projects.html">Projects</a></li>
        <li class="nav-item"><a class="nav-link" href="interactive.html">Interactive Zone</a></li>
        <li class="nav-item"><a class="nav-link active" href="puzzle.html">Secret Puzzle</a></li>
        <li class="nav-item"><a class="nav-link" href="index.html#contact">Contact</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Hero Section -->
<section class="interactive-hero text-center py-5">
  <div class="container">
    <h1 class="display-4 fw-bold mt-5">Secret Puzzle</h1>
    <p class="lead mt-3">Can you solve the puzzle?</p>
  </div>
</section>

<!-- Secret Puzzle Section -->
<section class="section-padding">
  <div class="container">
    <div class="row g-4">
      <div class="col-lg-12">
        <div class="interactive-card">
          <h3 class="interactive-title"><i class="fas fa-magic"></i> The Ultimate Puzzle</h3>
          <div id="puzzleContainer" class="puzzle-container" style="min-height: 400px; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 20px;">
            <!-- Step 1 -->
            <div id="step1" class="puzzle-step active">
              <h4>Welcome to the Secret Puzzle!</h4>
              <p>Think you're ready for an epic adventure?</p>
              <button class="btn btn-success btn-lg mt-4" onclick="nextStep(1)">Let's Begin!</button>
            </div>
            
            <!-- Step 2 -->
            <div id="step2" class="puzzle-step" style="display: none;">
              <h4>Step 2: The Question</h4>
              <p>What's 1 + 1?</p>
              <div class="d-flex gap-3 mt-4">
                <button class="btn btn-primary btn-lg" onclick="wrongAnswer()">3</button>
                <button class="btn btn-primary btn-lg" onclick="nextStep(2)">2</button>
                <button class="btn btn-primary btn-lg" onclick="wrongAnswer()">4</button>
              </div>
            </div>
            
            <!-- Step 3 -->
            <div id="step3" class="puzzle-step" style="display: none;">
              <h4>Step 3: Almost There!</h4>
              <p>Click the button to reveal the surprise...</p>
              <button class="btn btn-warning btn-lg mt-4" onclick="nextStep(3)">Show Me!</button>
            </div>
            
            <!-- Step 4 -->
            <div id="step4" class="puzzle-step" style="display: none;">
              <h4>Step 4: Final Countdown</h4>
              <p id="countdown" style="font-size: 3rem; font-weight: bold;">3...</p>
            </div>
            
            <!-- Final Step -->
            <div id="puzzleFinal" class="puzzle-step" style="display: none; width: 100%;">
              <h4>ðŸŽ‰ Surprise! ðŸŽ‰</h4>
              <div class="mt-4" style="width: 100%; max-width: 800px; margin: 0 auto;" id="youtubeContainer">
                <!-- YouTube iframe will be dynamically added here -->
              </div>
              <div class="mt-4">
                <a href="interactive.html" class="btn btn-primary btn-lg">Back to Interactive Zone</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Contact -->
<section id="contact" class="section-padding bg-dark text-light">
  <div class="container text-center">
    <h2 class="mb-4">Contact</h2>
    <p>Email: nilabhra.work2025@gmail.com</p>
    <div class="mt-3">
      <a href="https://github.com/nilabhragit90" class="text-light me-3" target="_blank"><i class="bi bi-github"></i></a>
      <a href="https://linkedin.com/in/nilabhrachakraborty" class="text-light me-3" target="_blank"><i class="bi bi-linkedin"></i></a>
      <a href="https://twitter.com" class="text-light" target="_blank"><i class="bi bi-twitter"></i></a>
    </div>
  </div>
</section>

<!-- Footer -->
<footer class="text-center py-3 bg-black text-muted">
  Â© 2026 Nilabhra Chakraborty
</footer>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<!-- Puzzle Challenge Scripts -->
<script>
  // Puzzle Functions
  function nextStep(step) {
    // Hide all steps
    document.querySelectorAll('.puzzle-step').forEach(step => {
      step.style.display = 'none';
    });
    
    // Show next step
    if (step === 1) {
      document.getElementById('step2').style.display = 'flex';
      document.getElementById('step2').style.flexDirection = 'column';
      document.getElementById('step2').style.alignItems = 'center';
    } else if (step === 2) {
      document.getElementById('step3').style.display = 'flex';
      document.getElementById('step3').style.flexDirection = 'column';
      document.getElementById('step3').style.alignItems = 'center';
    } else if (step === 3) {
      document.getElementById('step4').style.display = 'flex';
      document.getElementById('step4').style.flexDirection = 'column';
      document.getElementById('step4').style.alignItems = 'center';
      
      // Countdown animation
      let countdown = 3;
      const countdownEl = document.getElementById('countdown');
      const countdownInterval = setInterval(() => {
        countdown--;
        if (countdown > 0) {
          countdownEl.textContent = countdown + '...';
        } else {
          clearInterval(countdownInterval);
          countdownEl.textContent = '0...';
          setTimeout(() => {
            // Show final surprise
            document.querySelectorAll('.puzzle-step').forEach(step => {
              step.style.display = 'none';
            });
            document.getElementById('puzzleFinal').style.display = 'block';
            
            // Dynamically add YouTube iframe only when final step is shown
            const youtubeContainer = document.getElementById('youtubeContainer');
            if (youtubeContainer && !youtubeContainer.querySelector('iframe')) {
              const iframe = document.createElement('iframe');
              iframe.width = '100%';
              iframe.height = '450';
              // YouTube parameters to remove all controls and branding
              iframe.src = 'https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=1&modestbranding=1&rel=0&fs=0&iv_load_policy=3&controls=0&playsinline=1';
              iframe.title = 'Never Gonna Give You Up';
              iframe.frameBorder = '0';
              iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share';
              iframe.allowFullscreen = false;
              youtubeContainer.appendChild(iframe);
            }
          }, 500);
        }
      }, 1000);
    }
  }
  
  function wrongAnswer() {
    // Shake the step 2 container
    const step2 = document.getElementById('step2');
    step2.style.animation = 'shake 0.5s';
    
    // Reset animation
    setTimeout(() => {
      step2.style.animation = '';
    }, 500);
  }
</script>
</body>
</html>

